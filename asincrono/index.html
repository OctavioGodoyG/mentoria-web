<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button id="trigger-button">Trigger</button>
    <script>
      document
        .getElementById("trigger-button")
        .addEventListener("click", (event) => {
          /*let promise = new Promise( (resolve, reject) =>{
                setTimeout(()=>{
                    // resolve('Promesa ejecutada')
                    reject('La promesa fallo')
                }, 5000);
            })
            console.log(promise)
            promise.then(result => { 
                console.log(result)
            })
            .catch(err=>{
                console.log(err)
            })*/

          // .then(res=>{
          //     console.log(res)
          // })

          /*fetch('http://mentoria1.segic.cl')
            .then(res=> res.json())
            .then(data=>{
                console.log(data)
            })*/

          /*const loadData = (name) => {
                console.log("Iá¸¿ a data" + name)
            }*/

          /*const loadData = async() => {
                const response = await fetch('http://mentoria1.segic.cl')
                const datos = await response.json()
                console.log(datos)
                datos.forEach(dato => {
                    console.log(dato.firstname)
                });
            }            
            loadData();*/

          //Promesa y control de errores
          /*(async (label) => {
            try {
              const response = await fetch(
                "https://jsonplaceholder.typicode.com/todos/1"
              );
              const todo = await response.json();
              console.log(label + todo.title);
            } catch (error) {
                console.error(error)
            }
          })("Tarea hecha ");*/

          const loadData = async () => {
            try {
              const results = Promise.all([
                fetch("https://jsonplaceholder.typicode.com/todos/1"),
                fetch("https://jsonplaceholder.typicode.com/todos/2"),
                fetch("https://jsonplaceholder.typicode.com/todos/3")
              ]);

              const dataPromises = await results.map((result) => result.json());
              const fetchData = await Promise.all(dataPromises);
              return fetchData;
              //   console.log(results)
            } catch (err) {
              console.error(err)
            }
          };
          loadData().then((json) => {
            json.forEach((todo) => {
              console.log(todo.title)
            })
          })
        })
    </script>
  </body>
</html>
